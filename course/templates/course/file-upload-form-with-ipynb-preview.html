{% extends "course/file-upload-form.html" %}
{% load i18n %}
{% block file_upload_embed_viewer_js %}
  <script type="text/javascript">
    function b64DecodeUnicode(str) {
      // https://stackoverflow.com/a/30106551/3437454
      // Going backwards: from bytestream, to percent-encoding, to original string.
        return decodeURIComponent(atob(str).split('').map(function(c) {
            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
        }).join(''));
    }
    function file_upload_embed_viewer()
    {
      $("#file_upload_viewer_div").html(b64DecodeUnicode("{{ preview_base64_data }}") + "<hr>");
    }
  </script>
{% endblock %}
