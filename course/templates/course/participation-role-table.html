{% load i18n %}

<table class="table table-striped participant-roles">
  <thead>
    <th class="datacol">{% trans "Role identifier" %}</th>
    <th class="datacol">{% trans "Role name" %}</th>
    <th class="datacol no-sort">{% trans "Default for new participants" %}</th>
    <th class="datacol no-sort">{% trans "Default for unenrolled" %}</th>
    {% if pperm.edit_participation_role %}
      <th class="datacol no-sort">{% trans "Actions" %}</th>
    {% endif %}
  </thead>
  <tbody>
    {% for role in participation_roles %}
    <tr>
      <td class="headcol"><span class="sensitive">{{ role.identifier }}</span></td>
      <td class="headcol"><span class="sensitive">{{ role.name }}</span></td>
      <td class="datacol">
        {% if role.is_default_for_new_participants %}
          <i class="fa fa-check-square-o"></i>
        {% else %}
          <i class="fa fa-square-o"></i>
        {% endif %}
      </td>
      <td class="datacol">
        {% if role.is_default_for_unenrolled %}
          <i class="fa fa-check-square-o"></i>
        {% else %}
          <i class="fa fa-square-o"></i>
        {% endif %}
      </td>
      {% if pperm.edit_participation_role %}
        <td class="datacol">
          <a href="{% url "relate-edit_participation_role" course.identifier role.id %}" class="btn btn-default btn-xs">{% trans "Edit" %}</a>
        </td>
      {% endif %}
    </tr>
    {% endfor %}
  </tbody>
</table>


{% block participation_role_table_bottom_js %}
  {% load static %}
  {% get_current_js_lang_name as LANG %}
    <script type="text/javascript">
      var tbl = $("table.participant-roles").dataTable({
        "scrollCollapse": true,
        "paging": false,
        "ordering": true,
        "columnDefs": [
          { type: 'name', targets: 1 },
          { targets: 'no-sort', orderable: false,}],
        "language": {url: '{% static "datatables-i18n/i18n/" %}{{LANG}}.json'},
      });
    </script>
{% endblock %}
